---
title: "Przewidywanie produkcji energii - analiza danych"
author: "Piotr Kurzawa"
date: '`r format(Sys.Date(), "%d %B %Y")`'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r library, include=FALSE}
library(ggplot2)
library(dplyr)
library(corrplot)
library(reshape2)
```

```{r cache=FALSE, include=FALSE}
powerhouse <- read.csv("elektrownie.csv", row.names=1)
set.seed(23)
stats <- t(apply(powerhouse, 2, range))
colnames(stats) <- c("min", "max")
```
## Wstêp

Niniejszy dokument ma na celu analizê danych pochodzacych z czujników umieszczonych przy panelach fotowoltanicznych (krócej mówi¹c: s³onecznych). Na pocz¹tku dane te nale¿a³o przetworzyæ pod k¹tem ewentualnych brakuj¹cych/nadmiarowych danych, nastêpnie nale¿a³o wskazaæ znaczenie i wagê poszczególnych atrybutów, a tak¿e sprawdziæ korelacjê miêdzy nimi. Ostatni¹ czêœci¹ projektu by³o opracowanie regresora przewiduj¹cego wytwarzan¹ energiê przez ka¿dy z paneli w ujêciu godzinowym.

## W³aœciwoœci zbioru

Zbiór sk³ada siê z `r nrow(powerhouse)` wierszy oraz `r ncol(powerhouse)` atrybutów, które mo¿na podzieliæ na nastêpuj¹ce grupy:

### Informacje o czujniku

   Pierwsze atrybuty informuj¹ o modelu oraz marce czujnika. Wartoœci te s¹ sta³e dla ka¿dego z `r length(table(powerhouse$idsito))` ró¿nych czujników (co ciekawe, nie s¹ to jednakowe czujniki). Ka¿dy z atrybutów zosta³ znormalizowany do przedzia³u <0, 1>.
   
```{r echo=FALSE}
knitr::kable(head(stats, 3))
```

### Data wykonania pomiaru

```{r echo=FALSE}
knitr::kable(stats[6:10, ])
```

### Dane pogodowe

```{r echo=FALSE}
knitr::kable(stats[11:19, ])
```

### LISA

```{r echo=FALSE}
knitr::kable(stats[20:28, ])
```

### Lokalizacja, azymut i wysokoœæ bezwzglêdna

### PCNM

### modulo

### KWH

## Korelacja miêdzy zmiennymi

```{r corr,echo=FALSE}
powershell_clean <- select(powerhouse, -data)
cor_table <- cor(powershell_clean)
corrplot(cor_table, type = "upper", order = "hclust", 
          tl.col = "black", tl.srt = 45)
```